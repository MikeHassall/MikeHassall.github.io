const main_canvas=document.getElementById("mainCanvas"),ctx=main_canvas.getContext("2d"),start_position=20,square=(main_canvas.width=Math.floor(window.innerWidth),main_canvas.height=Math.floor(window.innerHeight),start_time=Date.now(),{top_side_x1:start_position,top_side_y1:start_position,top_side_x2:start_position,top_side_y2:start_position,top_side_colour:"Lavender",right_side_x1:-1,right_side_y1:-1,right_side_x2:-1,right_side_y2:-1,right_side_colour:"SkyBlue",bottom_side_x1:-1,bottom_side_y1:-1,bottom_side_x2:-1,bottom_side_y2:-1,bottom_side_colour:"MistyRose",left_side_x1:-1,left_side_y1:-1,left_side_x2:-1,left_side_y2:-1,left_side_colour:"PaleTurquoise",background_colour:"rgb(255, 255, 255)",circle_colour:"Lavender",direction:0,run_counter:0,current_x:start_position,current_y:start_position,max_size:-1,draw:function(){ctx.beginPath(),ctx.fillStyle=this.background_colour,ctx.fillRect(0,0,main_canvas.width,main_canvas.height),ctx.closePath(),ctx.beginPath(),ctx.arc(this.current_x,this.current_y,20,0,2*Math.PI,!1),ctx.fillStyle=this.circle_colour,ctx.fill(),ctx.lineWidth=1,ctx.strokeStyle=this.circle_colour,ctx.stroke(),ctx.beginPath(),ctx.strokeStyle=this.top_side_colour,ctx.lineWidth=3,ctx.moveTo(this.top_side_x1,this.top_side_y1),ctx.lineTo(this.top_side_x2,this.top_side_y2),ctx.stroke(),ctx.closePath(),1<=this.direction&&(ctx.beginPath(),ctx.strokeStyle=this.right_side_colour,ctx.lineWidth=3,ctx.moveTo(this.right_side_x1,this.right_side_y1),ctx.lineTo(this.right_side_x2,this.right_side_y2),ctx.stroke(),ctx.closePath()),2<=this.direction&&(ctx.beginPath(),ctx.strokeStyle=this.bottom_side_colour,ctx.lineWidth=3,ctx.moveTo(this.bottom_side_x1,this.bottom_side_y1),ctx.lineTo(this.bottom_side_x2,this.bottom_side_y2),ctx.stroke(),ctx.closePath()),3<=this.direction&&(ctx.beginPath(),ctx.strokeStyle=this.left_side_colour,ctx.lineWidth=3,ctx.moveTo(this.left_side_x1,this.left_side_y1),ctx.lineTo(this.left_side_x2,this.left_side_y2),ctx.stroke(),ctx.closePath())},update:function(){0==this.direction?(this.current_x=this.current_x+2,this.top_side_x2=this.current_x,4e3<=Date.now()-start_time&&(this.max_size=this.current_x,this.right_side_x1=this.max_size,this.right_side_x2=this.max_size,this.right_side_y1=start_position,this.right_side_y2=start_position,this.circle_colour=this.right_side_colour,this.direction+=1)):1==this.direction?(this.current_y=this.current_y+2,this.right_side_y2=this.current_y,this.current_y>=this.max_size&&(this.bottom_side_x1=this.max_size,this.bottom_side_x2=this.max_size,this.bottom_side_y1=this.max_size,this.bottom_side_y2=this.max_size,this.circle_colour=this.bottom_side_colour,this.direction++)):2==this.direction?(this.current_x=this.current_x-2,this.bottom_side_x2=this.current_x,this.current_x<=start_position&&(this.left_side_x1=start_position,this.left_side_x2=start_position,this.left_side_y1=this.max_size,this.left_side_y2=this.max_size,this.circle_colour=this.left_side_colour,this.direction++)):(this.current_y=this.current_y-2,this.left_side_y2=this.current_y,this.current_y<=start_position&&(this.top_side_x1=start_position,this.top_side_x2=start_position,this.top_side_y1=start_position,this.top_side_y2=start_position,this.circle_colour=this.top_side_colour,this.direction=0,start_time=Date.now()))}});function main(){switch(square.direction){case 0:document.getElementById("postionText").innerText="Inhale slowly...";break;case 1:document.getElementById("postionText").innerText="Hold it in...";break;case 2:document.getElementById("postionText").innerText="Exhale slowly...";break;default:document.getElementById("postionText").innerText="Pause..."}ctx.clearRect(0,0,main_canvas.width,main_canvas.height),square.update(),square.draw(),requestAnimationFrame(main)}requestAnimationFrame(main);